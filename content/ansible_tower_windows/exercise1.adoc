include::header.adoc[]

= Exercise 1 - Configuring Ansible Tower

In this exercise, we are going to configure Tower so that we can run a playbook.

== Configuring Ansible Tower

There are a number of constructs in the Ansible Tower UI that enable multi-tenancy, notifications, scheduling, etc.
However, we are only going to focus on a few of the key constructs that are required for this workshop today.

* Credentials
* Projects
* Inventory
* Job Template


== Logging into Tower

You will find a shortcut on your desktop named "Ansible Tower", click this to open your personal Ansible Tower instance in Chrome.

Your Tower instance has already been pre-configured for LDAP Login, so use your student credentials without the domain name to login.

Your Ansible Tower license has already been applied for you, so after logging in you should now see the Dashboard.


== Creating a Machine Credential

Credentials are utilized by Tower for authentication when launching jobs against machines,
synchronizing with inventory sources, and importing project content from a version control system.

There are many link:http://docs.ansible.com/ansible-tower/latest/html/userguide/credentials.html#credential-types[types of credentials] 
including machine, network, and various cloud providers.  In this workshop, we are using a *machine* credential.


=== Step 1:

Select the gear icon     image:at_gear.png[Gear,20,20]

=== Step 2:

Select CREDENTIALS

=== Step 3:

Click on ADD     image:at_add.png[Add,35,25]

=== Step 4:

Complete the form using the following entries:

|===
|NAME |Ansible Workshop Credential
|DESCRIPTION|Machine credential
|ORGANIZATION|Default
|TYPE|Machine
|USERNAME| student#
|PASSWORD| <your AD account password - instructor provided>
|===

image::1-tower-add-machine-credential.png[title="Add Machine Credential",width=1000]


=== Step 5:

Select SAVE     image:at_save.png[Save,35,25] +

== Create an SCM Credential

Our first credential was to access our Windows machines.  We need another to access our source code repository.  Repeat the process as above, but with the following details:

|===
|NAME |Git Credential
|DESCRIPTION|SCM credential for playbook sync
|ORGANIZATION|Default
|TYPE|Source Control
|USERNAME| student#
|PASSWORD| <your AD account password - instructor provided>
|===

Make sure you select SAVE!

image::1-tower-add-scm-credential.png[title="Add SCM Credential",width=1000]

== Creating a Project

A Project is a logical collection of Ansible playbooks, represented in Tower.
You can manage playbooks and playbook directories by either placing them manually
under the Project Base Path on your Tower server, or by placing your playbooks into
a source code management (SCM) system supported by Tower, including Git, Subversion, and Mercurial.

=== Step 1:

Click on PROJECTS at the upper left

=== Step 2:

Select ADD     image:at_add.png[Add,35,25]

=== Step 3:

Complete the form using the following entries (using your student number)

|===
|NAME |Ansible Workshop Project
|DESCRIPTION|workshop playbooks
|ORGANIZATION|Default
|SCM TYPE|Git
|SCM URL|https://gitlab.ansibleworkshop.com/student#/student#.git
|SCM BRANCH|
|SCM CREDENTIAL|Git Credential
|SCM UPDATE OPTIONS
a|

- [*] Clean
- [*] Delete on Update
- [*] Update on Launch
|===



image::1-tower-create-project.png[title="Defining a Project",width=1000]



=== Step 4:

Select SAVE     image:at_save.png[Save,35,25]




== Creating a Inventory

An inventory is a collection of hosts against which jobs may be launched.
Inventories are divided into groups and these groups contain the actual hosts.
Groups may be sourced manually, by entering host names into Tower, or from one
of Ansible Towerâ€™s supported cloud providers.

A static Inventory has already been created for you today.  We will now take a look at this inventory to show case the various features.

=== Step 1:

Click on INVENTORIES

=== Step 2:

Select ADD and select Inventory    image:at_add.png[Add,35,25]

=== Step 3:

Complete the form using the following entries

|===
|NAME |Ansible Workshop Inventory
|DESCRIPTION|workshop hosts
|ORGANIZATION|Default
|===



image::1-tower-create-inventory.png[title="Create an Inventory",width=1000]



=== Step 4:

Select SAVE     image:at_save.png[Save,35,25]










image::at_inv_group.png[title="Inventory with Groups"]

=== Step 7:


=== End Result

At this point, we are doing with our basic configuration of Ansible Tower.  In exercise 2, we will be solely focused on creating and running a job template so you can see Tower in action.
